<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TillBlack — Studio</title>
    <meta name="description" content="TillBlack is a small studio crafting moody, atmospheric experiences — including Code of Shadows." />

    <!-- Social cards -->
    <meta property="og:title" content="TillBlack — Studio" />
    <meta property="og:description" content="Atmospheric games & visuals. Code of Shadows by TillBlack." />
    <meta property="og:type" content="website" />

    <style>
      :root{
        --fg: #ffffff;
        --fg-dim:#cfcfcf;
        --bg: #0b0b0f;
      }
      html,body{height:100%}
      body{
        margin:0; background:var(--bg); color:var(--fg);
        font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
        line-height:1.5; overflow:hidden;
      }

      #bg{position:fixed; inset:0; z-index:0;}
      .fade-top,.fade-bottom{position:fixed; left:0; right:0; z-index:1; pointer-events:none}
      .fade-top{top:0; height:25vh; background:linear-gradient(var(--bg),transparent)}
      .fade-bottom{bottom:0; height:35vh; background:linear-gradient(transparent,var(--bg))}

      /* === LAYOUT: content higher on the page === */
      .wrap{position:relative; z-index:2; height:100%; display:flex; justify-content:center; align-items:flex-start; padding:8vh 2rem 2rem}
      .card{ width:min(980px,94vw); border-radius:1.2rem; background:transparent; text-align:center; }

      /* Logo */
      .brand{display:grid; place-items:center; margin-bottom:.6rem}
      .brand .logo{ display:block; width:clamp(220px, 32vw, 420px); height:auto; margin:0 auto; filter: drop-shadow(0 0 10px rgba(255,255,255,.12)); animation: pulse-glow 4s ease-in-out infinite alternate; will-change: filter, transform; }
      .brand:hover .logo{ animation: pulse-glow 1.4s ease-in-out infinite alternate, hover-shake .42s ease-in-out 1; }

      /* Text & buttons use difference blend for BW bg */
      .title, .sub, .cta .btn{ mix-blend-mode: difference; }
      .title{font-size: clamp(30px,5.2vw,56px); font-weight:800; margin:0 0 .6rem}
      .sub{color:var(--fg-dim); max-width:64ch; margin:0 auto 1rem}

      .cta{display:flex; gap:.8rem; justify-content:center; flex-wrap:wrap; margin-top:1rem}
      .btn{ padding:.9rem 1.15rem; border-radius:.95rem; border:1px solid rgba(255,255,255,.18); background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02)); color:var(--fg); text-decoration:none; font-weight:700; transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease; }
      .btn:hover{ transform: translateY(-2px); border-color: rgba(255,255,255,.32); box-shadow:0 0 34px rgba(255,255,255,.15)}

      /* Animations */
      @keyframes pulse-glow{ from{ filter: drop-shadow(0 0 8px rgba(255,255,255,.08)); } to{ filter: drop-shadow(0 0 22px rgba(255,255,255,.28)); } }
      @keyframes hover-shake{ 0%{ transform: translate(0,0) rotate(0) } 20%{ transform: translate(1px,-1px) rotate(.2deg) } 40%{ transform: translate(-1px,1px) rotate(-.2deg) } 60%{ transform: translate(1px,0) rotate(.15deg) } 80%{ transform: translate(0,-1px) rotate(-.15deg) } 100%{ transform: translate(0,0) rotate(0) } }

      /* Respect reduced motion */
      @media (prefers-reduced-motion: reduce){ .brand .logo{ animation:none } }

      .steam-widget{margin-top:1.6rem; display:flex; justify-content:center}

      footer{position:fixed; bottom:0; left:0; right:0; z-index:2; text-align:center; padding:1rem; color:#bcbcbc; font-size:13px; mix-blend-mode:difference}

      /* Small screens: a bit more top padding */
      @media (max-width:520px){ .wrap{ padding-top:10vh } }
    </style>
  </head>
  <body>
    <canvas id="bg" aria-hidden="true"></canvas>
    <div class="fade-top"></div>
    <div class="fade-bottom"></div>

    <main class="wrap">
      <section class="card">
        <div class="brand">
          <img class="logo" src="assets/TillBlack_Logo_black.png" alt="TillBlack logo black" />
        </div>
        <h1 class="title">Atmosphere first.</h1>
        <p class="sub">TillBlack is a studio blending art and technology to craft moody, timeless experiences. Our current title is <strong>Code of Shadows</strong>.</p>
        <div class="cta">
          <a class="btn" href="https://store.steampowered.com/app/3424800/Code_of_Shadows/">→ View on Steam</a>
          <a class="btn" href="mailto:hello@tillblack.com">Contact</a>
          <a class="btn" href="#about">About</a>
        </div>
        <div class="steam-widget">
          <iframe src="https://store.steampowered.com/widget/3424800/" frameborder="0" width="646" height="190"></iframe>
        </div>
      </section>
    </main>

    <footer>© <span id="year"></span> TillBlack. All rights reserved.</footer>

    <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
    <script>
      document.getElementById('year').textContent = new Date().getFullYear();
      const canvas = document.getElementById('bg');
      let renderer, scene, camera, uniforms, mesh;

      function init(){
        renderer = new THREE.WebGLRenderer({ canvas, antialias:true, alpha:true });
        renderer.setPixelRatio(Math.min(devicePixelRatio, 2));
        scene = new THREE.Scene();
        camera = new THREE.OrthographicCamera(-1,1,1,-1,0,1);

        const vertex = `varying vec2 vUv; void main(){ vUv = uv; gl_Position = vec4(position,1.0);} `;
        /* Black & white reactive background */
        const fragment = `
          precision highp float; varying vec2 vUv; uniform float uTime; uniform vec2 uResolution;
          vec2 hash(vec2 p){ p = vec2(dot(p, vec2(127.1,311.7)), dot(p, vec2(269.5,183.3))); return -1.0 + 2.0*fract(sin(p)*43758.5453123);} 
          float noise(in vec2 p){
            const float K1 = 0.366025404; const float K2 = 0.211324865; 
            vec2 i = floor(p + (p.x+p.y)*K1);
            vec2 a = p - i + (i.x+i.y)*K2;
            vec2 o = (a.x>a.y) ? vec2(1.0,0.0) : vec2(0.0,1.0);
            vec2 b = a - o + K2; vec2 c = a - 1.0 + 2.0*K2;
            vec3 h = max(0.5 - vec3(dot(a,a), dot(b,b), dot(c,c)), 0.0);
            vec3 n = h*h*h*h*vec3(dot(a, hash(i + 0.0)), dot(b, hash(i + o)), dot(c, hash(i + 1.0)));
            return dot(n, vec3(70.0));
          }
          void main(){
            vec2 uv = vUv; 
            vec2 p = (uv - 0.5) * vec2(uResolution.x/uResolution.y, 1.0);
            float t = uTime*0.08;
            float n = noise(p*1.8 + vec2(t*0.7, -t*0.5));
            float m = noise(p*3.2 - vec2(t*0.4, t*0.6));
            float field = smoothstep(-0.45, 0.8, n + m*0.6);
            float vign = smoothstep(0.96, 0.3, length(uv-0.5));
            float grid = (sin((uv.x+t*0.05)*80.0)*sin((uv.y-t*0.04)*80.0))*0.06;
            float bw = clamp(field*0.75 + grid*0.22, 0.0, 1.0);
            vec3 col = mix(vec3(0.03), vec3(0.98), bw) * vign;
            gl_FragColor = vec4(col, 1.0);
          }
        `;

        uniforms = { uTime: { value: 0 }, uResolution: { value: new THREE.Vector2() } };
        const geo = new THREE.PlaneGeometry(2,2);
        const mat = new THREE.ShaderMaterial({uniforms, vertexShader: vertex, fragmentShader: fragment, depthTest:false, depthWrite:false});
        mesh = new THREE.Mesh(geo, mat);
        scene.add(mesh);
        onResize(); window.addEventListener('resize', onResize);
        animate();
      }

      function onResize(){ const w = innerWidth, h = innerHeight; renderer.setSize(w, h, false); uniforms.uResolution.value.set(w, h);} 
      function animate(t){ uniforms.uTime.value = (t||0)*0.001; renderer.render(scene, camera); requestAnimationFrame(animate);} 
      try{init();}catch(e){canvas.style.display='none'; console.warn('WebGL disabled:', e);} 
    </script>
  </body>
</html>
